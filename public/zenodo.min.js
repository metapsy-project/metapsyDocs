const DATA_MAX_AGE=60*60*1e3;const lastUpdate=sessionStorage.getItem("dataLastUpdate");const now=Date.now();const needsRefresh=null===sessionStorage.getItem("apiResponse")||!lastUpdate||now-parseInt(lastUpdate)>DATA_MAX_AGE;if(needsRefresh){async function fetchData(){const e=await fetch("/data/zenodo.json",{cache:"force-cache"});if(!e.ok)throw new Error(`Failed to load /data/zenodo.json: ${e.status}`);return await e.json()}async function saveApiResponse(){try{const e=await fetchData();sessionStorage.setItem("apiResponse",JSON.stringify(e)),sessionStorage.setItem("dataSaved","true"),sessionStorage.setItem("dataLastUpdate",now.toString()),console.log("Zenodo data refreshed at:",new Date(now).toLocaleString())}catch(e){console.error(e),sessionStorage.setItem("dataSaved","false")}}saveApiResponse()}function makeid(e){for(var t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=s.charAt(Math.floor(62*Math.random()));return t}function isDataSaved(){return"true"===sessionStorage.getItem("dataSaved")}function getApiResponse(){const e=sessionStorage.getItem("apiResponse");return e?JSON.parse(e):null}function refreshZenodoSnapshot(){sessionStorage.removeItem("apiResponse"),sessionStorage.setItem("dataSaved","false")}