<span id="ph-number-studies"></span>

<span id="spinner-ph-number-studies" class="loader-spinner"></span>
<style>
.loader-spinner { width: 20px; height: 20px; margin-bottom: -5px; border: 2px solid rgb(133, 133, 133);
    border-bottom-color: transparent; border-radius: 50%; display: inline-block;
    box-sizing: border-box; animation: rotation 1s linear infinite;}
    @keyframes rotation {0% {transform: rotate(0deg);} 100% {transform: rotate(360deg);}} 
</style>

<script defer>
var randID = makeid(10);

async function renderNumberStudies() {
  // Wait for data to be loaded
  while (!isDataSaved()) {
    await new Promise(resolve => setTimeout(resolve, 1000));
  }

  const conceptDOI = "{{.Get `doi`}}";
  
  try {
    const content = await getMetadataFile(conceptDOI, "metadata/number_studies.txt");
    
    // Hide spinner
    document.getElementById("spinner-ph-number-studies").style.display = "none";
    
    // Update content
    const div = document.getElementById("ph-number-studies");
    div.id = div.id + "-" + randID;
    div.innerHTML = content;
  } catch (error) {
    console.error("Error loading number of studies:", error);
    document.getElementById("spinner-ph-number-studies").style.display = "none";
    const div = document.getElementById("ph-number-studies");
    div.id = div.id + "-" + randID;
    div.innerHTML = "<em>Error loading number of studies</em>";
  }
}

renderNumberStudies();
</script>
